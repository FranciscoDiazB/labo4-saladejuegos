import{j as z,l as A,p as j}from"./chunk-IPLXXL6T.js";import{a as B}from"./chunk-5DZY57WY.js";import"./chunk-LJ5XHLMQ.js";import{Ca as $,Ga as g,K as U,Na as a,Pa as E,Q as y,Qa as w,Ra as P,Sa as v,Ta as l,Ua as p,Va as c,W as C,X as h,Ya as G,Za as b,_a as s,cb as m,db as F,eb as M,fb as I,lb as d,mb as k,sa as r}from"./chunk-EIQFDW2Z.js";import{h as f}from"./chunk-FK42CRUA.js";var S=class t{supaBaseLeader=y(B);constructor(){}getPointsFromGame(o){return f(this,null,function*(){let e=this.supaBaseLeader.supabaseFunctions.schema("public").from("gamePoints").select("*").order("points",{ascending:!1});o&&(e=e.eq("game",o));let{data:n,error:i}=yield e;return i?(console.error("Error al obtener los puntajes:",i),[]):n})}getAllPoints(){return f(this,null,function*(){let o=this.supaBaseLeader.supabaseFunctions.schema("public").from("gamePoints").select("*").order("game",{ascending:!0}),{data:e,error:n}=yield o;return n?(console.error("Error al obtener los juegos:",n),[]):e})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var _=t=>({"pulse-user":t}),T=t=>({red:t}),O=(t,o)=>({red:t,"p-bisque":o});function V(t,o){if(t&1&&(l(0,"div",16),c(1,"i",17),l(2,"p",18),m(3),p(),l(4,"p",19),m(5),p()(),l(6,"div",20)(7,"h1",21),m(8),p()(),l(9,"div",22),c(10,"i",23),l(11,"p",18),m(12),p(),l(13,"p",19),m(14),p()(),l(15,"div",24),c(16,"i",25),l(17,"p",18),m(18),p(),l(19,"p",19),m(20),p()()),t&2){let e,n,i,x,R,L,u=s(2);r(),a("ngClass",d(13,_,u.first.user==((e=u.supaBase.currentUser())==null?null:e.email))),r(),a("ngClass",d(15,T,u.first.user==((n=u.supaBase.currentUser())==null?null:n.email))),r(),F(u.first.user.split("@",1)[0]),r(2),M("",u.first.points," Puntos"),r(3),F(u.first.game),r(2),a("ngClass",d(17,_,u.second.user==((i=u.supaBase.currentUser())==null?null:i.email))),r(),a("ngClass",d(19,T,u.second.user==((x=u.supaBase.currentUser())==null?null:x.email))),r(),F(u.second.user.split("@",1)[0]),r(2),M("",u.second.points," Puntos"),r(2),a("ngClass",d(21,_,u.third.user==((R=u.supaBase.currentUser())==null?null:R.email))),r(),a("ngClass",d(23,T,u.third.user==((L=u.supaBase.currentUser())==null?null:L.email))),r(),F(u.third.user.split("@",1)[0]),r(2),M("",u.third.points," Puntos")}}function N(t,o){t&1&&(l(0,"h4",31),m(1,"Ahorcado"),p())}function J(t,o){if(t&1&&c(0,"i",32),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function D(t,o){if(t&1&&c(0,"i",23),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function X(t,o){if(t&1&&c(0,"i",25),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function Y(t,o){if(t&1&&(g(0,N,2,0,"h4",26),l(1,"p",27),g(2,J,1,3,"i",28)(3,D,1,3,"i",29)(4,X,1,3,"i",30),m(5),p()),t&2){let e,n=o.$implicit,i=o.$index,x=s(2);a("ngIf",i==0),r(),a("ngClass",k(7,O,n.user==((e=x.supaBase.currentUser())==null?null:e.email),n.user!=((e=x.supaBase.currentUser())==null?null:e.email))),r(),a("ngIf",i==0),r(),a("ngIf",i==1),r(),a("ngIf",i==2),r(),I(" Jugador: ",n.user.split("@",1)[0]," - Puntaje: ",n.points," puntos ")}}function K(t,o){t&1&&(l(0,"h4",31),m(1,"Mayor o Menor"),p())}function Q(t,o){if(t&1&&c(0,"i",32),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function W(t,o){if(t&1&&c(0,"i",23),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function Z(t,o){if(t&1&&c(0,"i",25),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function ee(t,o){if(t&1&&(g(0,K,2,0,"h4",26),l(1,"p",27),g(2,Q,1,3,"i",28)(3,W,1,3,"i",29)(4,Z,1,3,"i",30),m(5),p()),t&2){let e,n=o.$implicit,i=o.$index,x=s(2);a("ngIf",i==0),r(),a("ngClass",k(7,O,n.user==((e=x.supaBase.currentUser())==null?null:e.email),n.user!=((e=x.supaBase.currentUser())==null?null:e.email))),r(),a("ngIf",i==0),r(),a("ngIf",i==1),r(),a("ngIf",i==2),r(),I(" Jugador: ",n.user.split("@",1)[0]," - Puntaje: ",n.points," puntos ")}}function te(t,o){t&1&&(l(0,"h4",31),m(1,"Preguntados"),p())}function ne(t,o){if(t&1&&c(0,"i",32),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function ie(t,o){if(t&1&&c(0,"i",23),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function oe(t,o){if(t&1&&c(0,"i",25),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function re(t,o){if(t&1&&(g(0,te,2,0,"h4",26),l(1,"p",27),g(2,ne,1,3,"i",28)(3,ie,1,3,"i",29)(4,oe,1,3,"i",30),m(5),p()),t&2){let e,n=o.$implicit,i=o.$index,x=s(2);a("ngIf",i==0),r(),a("ngClass",k(7,O,n.user==((e=x.supaBase.currentUser())==null?null:e.email),n.user!=((e=x.supaBase.currentUser())==null?null:e.email))),r(),a("ngIf",i==0),r(),a("ngIf",i==1),r(),a("ngIf",i==2),r(),I(" Jugador: ",n.user.split("@",1)[0]," - Puntaje: ",n.points," puntos ")}}function ae(t,o){t&1&&(l(0,"h4",31),m(1,"Punteria"),p())}function se(t,o){if(t&1&&c(0,"i",32),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function le(t,o){if(t&1&&c(0,"i",23),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function pe(t,o){if(t&1&&c(0,"i",25),t&2){let e,n=s().$implicit,i=s(2);a("ngClass",d(1,_,n.user==((e=i.supaBase.currentUser())==null?null:e.email)))}}function ce(t,o){if(t&1&&(g(0,ae,2,0,"h4",26),l(1,"p",27),g(2,se,1,3,"i",28)(3,le,1,3,"i",29)(4,pe,1,3,"i",30),m(5),p()),t&2){let e,n=o.$implicit,i=o.$index,x=s(2);a("ngIf",i==0),r(),a("ngClass",k(7,O,n.user==((e=x.supaBase.currentUser())==null?null:e.email),n.user!=((e=x.supaBase.currentUser())==null?null:e.email))),r(),a("ngIf",i==0),r(),a("ngIf",i==1),r(),a("ngIf",i==2),r(),I(" Jugador: ",n.user.split("@",1)[0]," - Puntaje: ",n.points," puntos ")}}function me(t,o){if(t&1){let e=G();l(0,"button",3),b("click",function(){C(e);let i=s();return h(i.getLeadersFromAGame("Mayor o Menor"))}),p(),l(1,"h3",4),m(2,"Mayor o Menor"),p(),c(3,"br"),l(4,"button",5),b("click",function(){C(e);let i=s();return h(i.getLeadersFromAGame("Ahorcado"))}),p(),l(5,"h3",6),m(6,"Ahorcado"),p(),c(7,"br"),l(8,"button",7),b("click",function(){C(e);let i=s();return h(i.getLeadersFromAGame("Preguntados"))}),p(),l(9,"h3",8),m(10,"Preguntados"),p(),c(11,"br"),l(12,"button",9),b("click",function(){C(e);let i=s();return h(i.getLeadersFromAGame("Punteria"))}),p(),l(13,"h3",10),m(14,"Punteria"),p(),g(15,V,21,25),l(16,"div",11),c(17,"div",12),p(),l(18,"button",13),b("click",function(){C(e);let i=s();return h(i.showAllScores())}),c(19,"i",14),p(),l(20,"div",15),P(21,Y,6,10,null,null,w),P(23,ee,6,10,null,null,w),P(25,re,6,10,null,null,w),P(27,ce,6,10,null,null,w),c(29,"br"),p()}if(t&2){let e=s();r(15),E(e.first.user||e.second.user||e.third.user?15:-1),r(6),v(e.playersHangMan),r(2),v(e.playersHigherLower),r(2),v(e.playersTrivia),r(2),v(e.playersShooter)}}function ue(t,o){t&1&&(l(0,"h3",33),m(1,"Para poder ingresar a los Resultados, primero tiene que iniciar sesi\xF3n."),p(),l(2,"h3",34),m(3,"En caso de no tener un usuario creado, registrarse..."),p())}var H=class t{leaders=[];top3=[];first="";second="";third="";game;showAllScoresFlag=!0;playersHangMan=[];playersHigherLower=[];playersTrivia=[];playersShooter=[];allPointsAllPlayer=[];allGames=[];flagHangMan=!1;flagHigherLower=!1;flagTrivia=!1;flagShooter=!1;supaBase=y(B);supaBaseLeaders=y(S);ngOnInit(){this.getAllPointsAllGames()}getLeadersFromAGame(o){return f(this,null,function*(){this.leaders=yield this.supaBaseLeaders.getPointsFromGame(o),console.log(this.leaders),this.getTop3Player()})}getAllPointsAllGames(){return f(this,null,function*(){this.playersHangMan=yield this.supaBaseLeaders.getPointsFromGame("Ahorcado"),this.playersHigherLower=yield this.supaBaseLeaders.getPointsFromGame("Mayor o Menor"),this.playersTrivia=yield this.supaBaseLeaders.getPointsFromGame("Preguntados"),this.playersShooter=yield this.supaBaseLeaders.getPointsFromGame("Punteria")})}getTop3Player(){this.top3=this.leaders.slice(0,3),this.first=this.top3[0],this.second=this.top3[1],this.third=this.top3[2],this.closeRibbons()}getGame(){this.game=this.first.game}showRibbons(){let o=document.getElementById("firstPlace"),e=document.getElementById("secondPlace"),n=document.getElementById("thirdPlace"),i=document.getElementById("game-h1-id");o?.classList.add("open-first-ribbon"),e?.classList.add("open-second-ribbon"),n?.classList.add("open-third-ribbon"),i?.classList.add("open-h1")}closeRibbons(){let o=document.getElementById("firstPlace"),e=document.getElementById("secondPlace"),n=document.getElementById("thirdPlace"),i=document.getElementById("game-h1-id");setTimeout(()=>this.showRibbons(),400),o?.classList.remove("open-first-ribbon"),e?.classList.remove("open-second-ribbon"),n?.classList.remove("open-third-ribbon"),i?.classList.remove("open-h1")}showAllScores(){let o=document.getElementById("all-scores-id");if(this.showAllScoresFlag){o?.classList.add("open-all-scores"),this.showAllScoresFlag=!1;return}o?.classList.remove("open-all-scores"),this.showAllScoresFlag=!0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=$({type:t,selectors:[["app-results"]],decls:7,vars:1,consts:[[1,"backgroundHome"],[1,"Home"],[1,"fa-solid","fa-medal"],[1,"higherLowerImage","pulse",2,"margin-bottom","10px",3,"click"],[2,"top","32.5%"],[1,"hangManImage","pulse",2,"margin-bottom","10px",3,"click"],[2,"top","49%"],[1,"triviaImage","pulse",2,"margin-bottom","10px",3,"click"],[2,"top","64%"],[1,"shooterImage","pulse",2,"margin-bottom","10px",3,"click"],[2,"top","80%"],[1,"leaderboards"],[1,"podium"],[1,"floatBtn",3,"click"],[1,"fa-solid","fa-chart-simple",2,"font-size","80px"],["id","all-scores-id",1,"all-scores"],["id","firstPlace",1,"ribbon",2,"right","37.7%","top","39.7%"],[1,"fa-solid","fa-trophy",2,"font-size","25px","color","gold",3,"ngClass"],[2,"margin-bottom","-10px","margin-top","-5px",3,"ngClass"],[2,"margin-bottom","-5px"],["id","game-h1-id",1,"game-h1"],[2,"font-size","60px"],["id","secondPlace",1,"ribbon"],[1,"fa-solid","fa-trophy",2,"font-size","25px","color","silver",3,"ngClass"],["id","thirdPlace",1,"ribbon",2,"right","24.4%","top","54.7%"],[1,"fa-solid","fa-trophy",2,"font-size","25px","color","burlywood",3,"ngClass"],["style","font-size: 60px; margin-bottom: 35px; margin-top: 35px;",4,"ngIf"],[2,"font-size","25px",3,"ngClass"],["style","font-size: 25px; color: gold; position: relative;","class","fa-solid fa-trophy",3,"ngClass",4,"ngIf"],["style","font-size: 25px; color: silver;","class","fa-solid fa-trophy",3,"ngClass",4,"ngIf"],["style","font-size: 25px; color: burlywood;","class","fa-solid fa-trophy",3,"ngClass",4,"ngIf"],[2,"font-size","60px","margin-bottom","35px","margin-top","35px"],[1,"fa-solid","fa-trophy",2,"font-size","25px","color","gold","position","relative",3,"ngClass"],[2,"top","40%"],[2,"top","50%"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1"),m(3,"Leaderboards "),c(4,"i",2),p(),g(5,me,30,1)(6,ue,4,0),p()()),e&2&&(r(5),E(n.supaBase.currentUser()?5:n.supaBase.currentUser()===null?6:-1))},dependencies:[j,z,A],styles:['@font-face{font-family:westernFont;src:url("./media/DakotaRegular-eZpj6-HFFEUJUJ.ttf")}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{transform:translateY(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInFromBelow{0%{transform:translateY(50%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(1000%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInOpacity{0%{opacity:0}to{opacity:1}}.backgroundHome[_ngcontent-%COMP%]{background-image:url("./media/backgroundWestern-FF5KUXMI.jpg");position:absolute;z-index:0;height:91.7%;width:100%}.Home[_ngcontent-%COMP%]{font-family:westernFont;position:relative;top:26%;left:16%;margin:-150px 0 0 -150px;border-radius:0%;width:1600px;height:700px;background:#ffffff0f;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid bisque;padding:30px;animation:1s ease-out 0s 1 _ngcontent-%COMP%_slideInFromTop}h1[_ngcontent-%COMP%]{font-size:120px;position:relative;left:3.5%;color:bisque;text-shadow:5px 5px 5px black;margin-bottom:40px;animation:2s ease-out 0s 1 _ngcontent-%COMP%_slideInFromTop}h4[_ngcontent-%COMP%]{font-size:43px;position:relative;color:#dc143c;border:2px solid bisque}h3[_ngcontent-%COMP%]{font-size:50px;left:12%;position:fixed;color:bisque;text-shadow:5px 5px 5px chocolate;animation:2s ease-out 0s 1 _ngcontent-%COMP%_slideInFromBelow}@keyframes _ngcontent-%COMP%_pulse{25%{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:scale(.9);-ms-transform:scale(.9);transform:scale(.9)}}@keyframes _ngcontent-%COMP%_pulseG{25%{-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}75%{-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}}.pulse[_ngcontent-%COMP%]:hover{-webkit-animation-name:_ngcontent-%COMP%_pulse;animation-name:_ngcontent-%COMP%_pulse;-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:infinite}i[_ngcontent-%COMP%]{font-size:100px;color:bisque;text-shadow:5px 5px 5px black}.higherLowerImage[_ngcontent-%COMP%]{background-image:url("./media/higherLowerGameMini-NMQXEQKH.jpg");position:relative;left:2%;width:100px;height:100px;border-radius:15%;box-shadow:7px 7px 15px #000;margin-right:45px}.hangManImage[_ngcontent-%COMP%]{background-image:url("./media/hangManGameMini-TB4IDG3Z.jpg");position:relative;left:2%;width:100px;height:100px;border-radius:15%;box-shadow:7px 7px 15px #000;margin-right:45px}.triviaImage[_ngcontent-%COMP%]{background-image:url("./media/triviaImageMini-NQNJOLGS.jpg");position:relative;left:2%;width:100px;height:100px;border-radius:15%;box-shadow:7px 7px 15px #000;margin-right:45px}.shooterImage[_ngcontent-%COMP%]{background-image:url("./media/shooterGameMini-OJNX6LBX.jpg");position:relative;left:2%;width:100px;height:100px;border-radius:15%;box-shadow:7px 7px 15px #000;margin-right:45px}.leaderboards[_ngcontent-%COMP%]{font-family:westernFont;position:fixed;width:700px;height:450px;border-radius:5%;top:30%;left:38%;background-image:url("./media/podium-SUERN4RY.png");background:#b814149a;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid black;padding:15px;animation:3s ease-in 0s 1 _ngcontent-%COMP%_fadeInOpacity}.podium[_ngcontent-%COMP%]{position:fixed;width:632px;height:450px;top:-.5%;left:4%;background-image:url("./media/podium2-KNWIYPSE.png")}.ribbon[_ngcontent-%COMP%]{position:fixed;right:49.9%;top:51%;z-index:2;min-width:none;max-width:210px;border-radius:15%;background-color:bisque;color:#000;padding:5px;font-size:20px;border:1px solid black;align-items:center;text-align:center;transform:scale(.00001);transition:transform .4s}.game-h1[_ngcontent-%COMP%]{background-color:transparent;position:fixed;text-align:center;width:400px;font-size:60px;top:77%;left:46%;transform:scale(.00001);transition:transform .4s;z-index:3}.open-h1[_ngcontent-%COMP%]{transform:scale(1);transition:transform .4s}.open-first-ribbon[_ngcontent-%COMP%]{top:51%;transform:scale(1);transition:transform 4s}.open-second-ribbon[_ngcontent-%COMP%]{top:51%;transform:scale(1);transition:transform 2s}.open-third-ribbon[_ngcontent-%COMP%]{top:51%;transform:scale(1);transition:transform .4s}.red[_ngcontent-%COMP%]{color:#5f9ea0}.pulse-user[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_pulseG;animation-name:_ngcontent-%COMP%_pulseG;-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:infinite}.floatBtn[_ngcontent-%COMP%]{background-color:transparent;position:fixed;top:5%;left:90%;width:120px;height:110px;border-radius:15%;border:transparent;box-shadow:5px 3px 15px #000;animation:3s ease-in-out 0s 1 _ngcontent-%COMP%_fadeInOpacity}.floatBtn[_ngcontent-%COMP%]:hover{background-color:brown}.all-scores[_ngcontent-%COMP%]{font-family:westernFont;position:fixed;width:700px;height:450px;border-radius:5%;overflow-y:auto;overflow-x:hidden;text-align:center;left:38%;top:30%;background:#0000009a;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid black;padding:15px;transform:scale(.0000001);transition:transform .4s,top .4s;z-index:3}.open-all-scores[_ngcontent-%COMP%]{transform:scale(1);top:30%}.all-scores[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.p-bisque[_ngcontent-%COMP%]{color:bisque}']})};export{H as ResultsComponent};
