import{a as G,b as q,c as p,d as z,e as A,f as E,g as c,i as V,j as B,k as L,l as D,m as U,n as R,o as Q,p as H,q as Z}from"./chunk-GIW7TCNI.js";import{i as O,k as N,p as T}from"./chunk-DPKYMZSS.js";import{a as I}from"./chunk-LFXQYG2S.js";import"./chunk-X5YLR3NI.js";import{Bb as o,Cb as w,Lb as h,Mb as y,Oa as M,Sa as g,T as j,Y as _,Z as b,Za as S,_a as P,cb as u,db as t,eb as n,fb as r,jb as f,kb as x,mb as k,ob as C,qb as d,xa as s}from"./chunk-KZEIVY7Y.js";import"./chunk-ODN5LVDJ.js";function J(i){return l=>{let a={minSelected:"\xA1Seleccionar como m\xEDnimo una opci\xF3n para continuar!"};return Object.values(l.controls).map(m=>m).filter(m=>m.value===!0).length<i?(l.get("gameGenres")?.setErrors(a),a):null}}var v=i=>({error:i}),F=(i,l)=>({"btn-continue-fail":i,"btn-continue-success":l});function Y(i,l){if(i&1){let a=k();t(0,"h1",2),o(1,"Encuesta"),n(),t(2,"h3",3),o(3,"Gracias por tomarte unos minutos para completar esta encuesta. "),r(4,"br"),o(5," Tu participaci\xF3n es completamente voluntaria, y nos ayudar\xE1 a recopilar informaci\xF3n valiosa para mejorar. "),r(6,"br"),o(7," Las preguntas son breves y no te tomar\xE1n m\xE1s de unos minutos. "),r(8,"br"),o(9," \xA1Gracias!"),n(),t(10,"button",4),C("click",function(){_(a);let m=d(2);return b(m.startTheSurvey())}),o(11,"Comenzar "),r(12,"i",5),n()}}function K(i,l){i&1&&(f(0),t(1,"p",55),o(2,"\xA1Unicamente letras para este campo!"),n(),x())}function W(i,l){i&1&&(f(0),t(1,"p",55),o(2,"\xA1Unicamente letras para este campo!"),n(),x())}function X(i,l){i&1&&(f(0),t(1,"p",56),o(2,"\xA1N\xFAmero telef\xF3nico de hasta 10 caracteres m\xE1ximo!"),n(),x())}function ee(i,l){i&1&&(f(0),t(1,"p",56),o(2,"\xA1El n\xFAmero telef\xF3nico no puede ser 0!"),n(),x())}function te(i,l){i&1&&(f(0),t(1,"p",57),o(2,"\xA1Entre 18 y 99!"),n(),x())}function ne(i,l){if(i&1&&(f(0),t(1,"p",58),o(2),n(),x()),i&2){let a=d(3);s(2),w(a.justGameGenres==null?null:a.justGameGenres.getError("minSelected"))}}function oe(i,l){i&1&&(f(0),t(1,"p",59),o(2,"\xA1Es requerido seleccionar una opci\xF3n!"),n(),x())}function ie(i,l){i&1&&(f(0),t(1,"p",60),o(2,"\xA1No se aceptan caracteres especiales!"),n(),x())}function re(i,l){if(i&1){let a=k();t(0,"form",6),C("ngSubmit",function(){_(a);let m=d(2);return b(m.submitFormToDatabase())}),t(1,"div",7)(2,"h1",8),o(3),n(),t(4,"div"),r(5,"input",9),g(6,K,3,0,"ng-container",10),r(7,"input",11),g(8,W,3,0,"ng-container",10),n(),r(9,"input",12),g(10,X,3,0,"ng-container",10)(11,ee,3,0,"ng-container",10),r(12,"i",13)(13,"input",14),g(14,te,3,0,"ng-container",10),t(15,"button",15),C("click",function(){_(a);let m=d(2);return b(m.changeForms("firstToSecond"))}),o(16,"Continuar "),r(17,"i",16),n()(),t(18,"div",17)(19,"h3",18),o(20,"\xBFCu\xE1les de los siguientes g\xE9neros de juegos te gustan m\xE1s?"),n(),t(21,"div",19)(22,"div",20)(23,"label"),r(24,"input",21),t(25,"h3",22),o(26,"Shooters"),n(),r(27,"span",23),n()(),t(28,"div",24)(29,"label"),r(30,"input",25),t(31,"h3",26),o(32,"Deportes"),n(),r(33,"span",23),n()(),t(34,"div",27)(35,"label"),r(36,"input",28),t(37,"h3",22),o(38,"Soulslike"),n(),r(39,"span",23),n()(),t(40,"div",29)(41,"label"),r(42,"input",30),t(43,"h3",22),o(44,"Puzzle"),n(),r(45,"span",23),n()(),t(46,"div",31)(47,"label"),r(48,"input",32),t(49,"h3",22),o(50,"Plataformas"),n(),r(51,"span",23),n()(),t(52,"div",33)(53,"label"),r(54,"input",34),t(55,"h3",22),o(56,"Simulaci\xF3n"),n(),r(57,"span",23),n()(),g(58,ne,3,1,"ng-container",10),n(),t(59,"button",35),C("click",function(){_(a);let m=d(2);return b(m.changeForms("secondToFirst"))}),o(60,"Volver "),r(61,"i",36),n(),t(62,"button",37),C("click",function(){_(a);let m=d(2);return b(m.changeForms("secondToLast"))}),o(63,"Continuar "),r(64,"i",16),n()(),t(65,"div",38)(66,"div",39)(67,"h3",40),o(68,"\xBFCu\xE1nto tiempo jug\xE1s diariamente a los videojuegos?"),n(),t(69,"div",41),r(70,"input",42),t(71,"label",43),o(72,"0 - 30 min"),n(),r(73,"input",44),t(74,"label",45),o(75,"30 min - 1hs"),n(),r(76,"input",46),t(77,"label",47),o(78,"1hs - 2hs"),n(),r(79,"input",48),t(80,"label",49),o(81,"M\xE1s de 2hs"),n()(),g(82,oe,3,0,"ng-container",10),t(83,"h3",18),o(84,"\xBFCu\xE1l dir\xEDas que es la plataforma de juegos m\xE1s ic\xF3nica?"),n(),r(85,"input",50),g(86,ie,3,0,"ng-container",10),n(),t(87,"button",35),C("click",function(){_(a);let m=d(2);return b(m.changeForms("LastToSecond"))}),o(88,"Volver "),r(89,"i",36),n(),t(90,"button",51),o(91,"Guardar "),r(92,"i",52),n()()(),t(93,"div",53)(94,"p",54),o(95,"\xA1Encuensta enviada con \xE9xito! "),r(96,"br"),o(97,"Gracias por participar"),n()()}if(i&2){let a,e=d(2);u("formGroup",e.surveyForm),s(3),w((a=e.supaBase.currentUser())==null?null:a.email),s(2),u("ngClass",h(22,v,e.justName==null?null:e.justName.hasError("required"))),s(),u("ngIf",e.justName==null?null:e.justName.hasError("pattern")),s(),u("ngClass",h(24,v,e.justSurname==null?null:e.justSurname.hasError("required"))),s(),u("ngIf",e.justSurname==null?null:e.justSurname.hasError("pattern")),s(),u("ngClass",h(26,v,e.justPhoneNumber==null?null:e.justPhoneNumber.hasError("required"))),s(),u("ngIf",e.justPhoneNumber==null?null:e.justPhoneNumber.hasError("max")),s(),u("ngIf",e.justPhoneNumber==null?null:e.justPhoneNumber.hasError("min")),s(2),u("ngClass",h(28,v,e.justAge==null?null:e.justAge.hasError("required"))),s(),u("ngIf",(e.justAge==null?null:e.justAge.hasError("max"))||(e.justAge==null?null:e.justAge.hasError("min"))),s(),u("ngClass",y(30,F,(e.justName==null?null:e.justName.invalid)||(e.justSurname==null?null:e.justSurname.invalid)||(e.justAge==null?null:e.justAge.invalid)||(e.justPhoneNumber==null?null:e.justPhoneNumber.invalid),(e.justName==null?null:e.justName.valid)&&(e.justSurname==null?null:e.justSurname.valid)&&(e.justAge==null?null:e.justAge.valid)&&(e.justPhoneNumber==null?null:e.justPhoneNumber.valid)))("disabled",(e.justName==null?null:e.justName.invalid)||(e.justSurname==null?null:e.justSurname.invalid)||(e.justAge==null?null:e.justAge.invalid)||(e.justPhoneNumber==null?null:e.justPhoneNumber.invalid)),s(43),u("ngIf",e.gameGenres.invalid),s(4),u("ngClass",y(33,F,e.gameGenres.invalid,e.gameGenres.valid))("disabled",e.gameGenres.invalid),s(20),u("ngIf",e.justTimePlayed==null?null:e.justTimePlayed.hasError("required")),s(3),u("ngClass",h(36,v,e.justQuestions==null?null:e.justQuestions.hasError("required")))("ngModel",e.questionLength),s(),u("ngIf",e.justQuestions==null?null:e.justQuestions.hasError("pattern")),s(4),u("ngClass",y(38,F,e.surveyForm.invalid,e.surveyForm.valid))("disabled",e.surveyForm.invalid)}}function ae(i,l){if(i&1&&S(0,Y,13,0)(1,re,98,41),i&2){let a=d();P(a.startSurvey?1:0)}}function le(i,l){i&1&&(t(0,"h3",61),o(1,"Para poder ingresar a la Encuesta, primero tiene que iniciar sesi\xF3n."),n(),t(2,"h3",62),o(3,"En caso de no tener un usuario creado, registrarse..."),n())}var $=class i{supaBase=j(I);surveyForm;gameGenres;lastPart;startSurvey=!1;questionLength="";ngOnInit(){this.surveyForm=new E({name:new c(null,[p.pattern("^[a-zA-Z\xC0-\xFF ]+$"),p.required]),surname:new c(null,[p.pattern("^[a-zA-Z\xC0-\xFF ]+$"),p.required]),age:new c(null,[p.min(18),p.max(99),p.required]),phoneNumber:new c(null,[p.required,p.min(1),p.max(9999999999)])}),this.gameGenres=new E({shooter:new c(!1),sport:new c(!1),soulslike:new c(!1),puzzle:new c(!1),platform:new c(!1),simulation:new c(!1)},J(1)),this.lastPart=new E({timePlayed:new c(null,p.required),question:new c(null,[p.pattern("^[a-zA-Z\xC0-\xFF0-9 ]+$"),p.required])}),this.surveyForm.addControl("gameGenres",this.gameGenres),this.surveyForm.addControl("playTime",this.lastPart)}get justName(){return this.surveyForm.get("name")}get justSurname(){return this.surveyForm.get("surname")}get justAge(){return this.surveyForm.get("age")}get justPhoneNumber(){return this.surveyForm.get("phoneNumber")}get justTimePlayed(){return this.lastPart.get("timePlayed")}get justQuestions(){return this.lastPart.get("question")}get justGameGenres(){return this.surveyForm.get("gameGenres")}startTheSurvey(){this.startSurvey=!0}submitFormToDatabase(){this.saveDataGame()}saveDataGame(){let l=this.supaBase.currentUser()?.email;this.supaBase.supabaseFunctions.schema("public").from("survey").insert([{user:l,name:this.justName?.value,surname:this.justSurname?.value,age:this.justAge?.value,phone:this.justPhoneNumber?.value,genres:JSON.stringify(this.justGameGenres?.value),minutesPlayed:this.justTimePlayed?.value,answer:this.justQuestions?.value}]).then(({data:a,error:e})=>{e?(console.log("Error al escribir en la BD"),console.log(e.message)):console.log("Success")}),this.showSurveySaved()}showSurveySaved(){document.getElementById("survey-saved")?.classList.add("open-surveySaved"),document.getElementById("form-last-part")?.classList.remove("open-form")}removeSurveySaved(){document.getElementById("survey-saved")?.classList.remove("open-surveySaved")}changeForms(l){let a=document.getElementById("form-first-part"),e=document.getElementById("form-second-part"),m=document.getElementById("form-last-part");l=="firstToSecond"?(a?.classList.add("close-form"),e?.classList.add("open-form")):l=="secondToLast"?(e?.classList.remove("open-form"),m?.classList.add("open-form")):l=="LastToSecond"?(m?.classList.remove("open-form"),e?.classList.add("open-form")):l=="secondToFirst"&&(e?.classList.remove("open-form"),a?.classList.remove("close-form"))}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=M({type:i,selectors:[["app-encuesta"]],decls:4,vars:1,consts:[[1,"backgroundHome"],[1,"Home"],[2,"font-size","120px"],[2,"font-size","40px","text-shadow","5px 5px 5px chocolate"],["id","button-next","type","button",1,"floatBtn","btn-continue-success",2,"border","2px solid bisque","font-size","40px","height","100px","top","77%",3,"click"],[1,"fa-solid","fa-circle-play",2,"font-size","30px"],[3,"ngSubmit","formGroup"],["id","form-first-part",1,"first-form"],[2,"text-align","center"],["maxlength","50","type","text","name","","id","name","formControlName","name","placeholder","Ingrese su nombre...",1,"input-form",2,"margin-right","20px",3,"ngClass"],[4,"ngIf"],["maxlength","70","type","text","name","","id","name","formControlName","surname","placeholder","Ingrese su apellido...",1,"input-form",3,"ngClass"],["type","number","formControlName","phoneNumber","placeholder","Ingrese n\xFAmero de tel\xE9fono...",1,"input-form",3,"ngClass"],[1,"fa-solid","fa-user",2,"position","fixed","left","7%","top","29%"],["type","number","formControlName","age","placeholder","Edad",1,"input-form",2,"position","fixed","top","50.45%","width","130px","left","4%",3,"ngClass"],["id","button-next","type","button",1,"floatBtn",3,"click","ngClass","disabled"],[1,"fa-solid","fa-forward",2,"font-size","30px"],["id","form-second-part",1,"next-form"],[2,"font-size","45px","text-align","center","text-shadow","5px 5px 5px chocolate"],["formGroupName","gameGenres"],[1,"checkbox-wrapper-39",2,"position","fixed","top","30%","left","12%"],["type","checkbox","id","disparos","name","generos","value","disparos","formControlName","shooter"],[2,"font-size","25px"],[1,"checkbox"],[1,"checkbox-wrapper-39",2,"position","fixed","top","30%","left","42%"],["type","checkbox","id","deportes","name","generos","value","deportes","formControlName","sport"],[2,"font-size","25px","text-shadow","5px 5px 5px black"],[1,"checkbox-wrapper-39",2,"position","fixed","top","30%","left","72%"],["type","checkbox","formControlName","soulslike"],[1,"checkbox-wrapper-39",2,"position","fixed","top","50%","left","12%"],["type","checkbox","id","puzzle","name","generos","value","puzzle","formControlName","puzzle"],[1,"checkbox-wrapper-39",2,"position","fixed","top","50%","left","42%"],["type","checkbox","id","plataforma","name","generos","value","plataforma","formControlName","platform"],[1,"checkbox-wrapper-39",2,"position","fixed","top","50%","left","72%"],["type","checkbox","id","sim","name","generos","value","simulacion","formControlName","simulation"],["id","button-next","type","button",1,"floatBtn","btn-continue-success",2,"left","7%",3,"click"],[1,"fa-solid","fa-backward",2,"font-size","30px"],["type","button",1,"floatBtn",3,"click","ngClass","disabled"],["id","form-last-part",1,"next-form"],["formGroupName","playTime"],[2,"font-size","45px","text-align","center","text-shadow","5px 5px 5px chocolate","margin-bottom","-5px"],[1,"radio-group",2,"margin-bottom","-5px","left","2%"],["type","radio","id","option-one","formControlName","timePlayed","name","timePlayed","value","0-30"],["for","option-one"],["type","radio","id","option-two","formControlName","timePlayed","name","timePlayed","value","30-60"],["for","option-two"],["type","radio","id","option-three","formControlName","timePlayed","name","timePlayed","value","60-120"],["for","option-three"],["type","radio","id","option-four","formControlName","timePlayed","name","timePlayed","value","+120"],["for","option-four"],["type","text","name","","id","question","formControlName","question","maxlength","50","placeholder","50 caracteres m\xE1ximo...",1,"input-form",2,"left","6%","width","540px",3,"ngClass","ngModel"],["type","submit",1,"floatBtn",2,"left","68%",3,"ngClass","disabled"],[1,"fa-solid","fa-floppy-disk",2,"font-size","30px"],["id","survey-saved",1,"surveySaved"],[2,"font-size","45px","color","bisque"],[2,"position","relative","top","14.5%","left","25%","margin-top","-10px"],[2,"position","fixed","left","27%","margin-top","-10px"],[2,"position","fixed","top","61.8%","left","3.8%"],[2,"position","fixed","top","72%","left","12%","text-align","center"],[2,"position","relative","left","0.1%","text-align","center","margin-top","15px","margin-bottom","-15px"],[2,"position","relative","top","14.5%","left","22%","margin-top","-10px"],[2,"top","10%"],[2,"top","15%"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"div",1),S(2,ae,2,1)(3,le,4,0),n()()),a&2&&(s(2),P(e.supaBase.currentUser()?2:e.supaBase.currentUser()===null?3:-1))},dependencies:[T,O,N,Z,V,q,B,G,L,z,A,Q,D,R,U,H],styles:['@font-face{font-family:westernFont;src:url("./media/DakotaRegular-eZpj6-HFFEUJUJ.ttf")}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{transform:translateY(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInFromBelow{0%{transform:translateY(500%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInOpacity{0%{opacity:0}to{opacity:1}}.backgroundHome[_ngcontent-%COMP%]{background-image:url("./media/backgroundWestern-FF5KUXMI.jpg");position:absolute;z-index:0;height:91.7%;width:100%}.Home[_ngcontent-%COMP%]{font-family:westernFont;position:relative;top:26%;left:36%;margin:-150px 0 0 -150px;border-radius:0%;width:800px;height:700px;background:#ffffff0f;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid bisque;padding:30px;animation:1s ease-out 0s 1 _ngcontent-%COMP%_slideInFromTop}h1[_ngcontent-%COMP%]{font-size:60px;position:relative;color:bisque;text-shadow:5px 5px 5px black;margin-bottom:40px;animation:2s ease-out 0s 1 _ngcontent-%COMP%_slideInFromTop}h3[_ngcontent-%COMP%]{font-size:60px;position:relative;color:bisque;text-shadow:5px 5px 5px black;animation:2s ease-out 0s 1 _ngcontent-%COMP%_slideInFromBelow}.floatBtn[_ngcontent-%COMP%]{background-color:transparent;position:fixed;top:82%;font-size:30px;left:65%;height:70px;border-radius:15%;padding:15px;box-shadow:5px 3px 15px #000;animation:3s ease-in-out 0s 1 _ngcontent-%COMP%_fadeInOpacity;color:bisque;border:transparent;transition:1s}.floatBtn[_ngcontent-%COMP%]:hover{background-color:brown}.btn-continue-success[_ngcontent-%COMP%]{border:2px solid cadetblue}.btn-continue-fail[_ngcontent-%COMP%]{border:2px solid crimson}.btn-continue-fail[_ngcontent-%COMP%]:hover{background:transparent}i[_ngcontent-%COMP%]{font-size:100px;color:bisque;text-shadow:5px 5px 5px black;animation:2s ease-in 0s 1 _ngcontent-%COMP%_fadeInOpacity}p[_ngcontent-%COMP%]{font-size:25px;color:#dc143c;animation:.8s ease-in-out 0s 1 _ngcontent-%COMP%_slideInFromTop}.input-form[_ngcontent-%COMP%]{position:relative;font-size:35px;width:450px;background-color:transparent;color:bisque;left:25%;margin-bottom:15px;transition:1s;height:60px;border:2px solid bisque;animation:2s ease-out 0s 1 _ngcontent-%COMP%_slideInFromTop;padding-inline:10px;border-radius:10px}.error[_ngcontent-%COMP%]{border-right:10px solid crimson}.first-form[_ngcontent-%COMP%]{font-family:westernFont;position:fixed;width:660px;height:600px;border-radius:5%;top:7%;left:8%;background:#0000009a;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid black;padding:25px;animation:3s ease-in 0s 1 _ngcontent-%COMP%_fadeInOpacity;transform:scale(1);transition:.4s transform}.next-form[_ngcontent-%COMP%]{font-family:westernFont;position:fixed;width:660px;height:600px;border-radius:5%;top:7%;left:8%;background:#0000009a;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);border:2px solid black;padding:20px;animation:3s ease-in 0s 1 _ngcontent-%COMP%_fadeInOpacity;transform:scale(0);transition:.4s transform}.open-form[_ngcontent-%COMP%]{transform:scale(1)}.close-form[_ngcontent-%COMP%]{transform:scale(0)}.checkbox-wrapper-39[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .checkbox-wrapper-39[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:before, .checkbox-wrapper-39[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:border-box}.checkbox-wrapper-39[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:45px;height:45px;cursor:pointer}.checkbox-wrapper-39[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{visibility:hidden;display:none}.checkbox-wrapper-39[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkbox[_ngcontent-%COMP%]{transform:rotate(45deg);width:17px;margin-left:12px;border-color:bisque;border-top-color:transparent;border-left-color:transparent;background-color:transparent;border-radius:0}.checkbox-wrapper-39[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:block;width:inherit;height:inherit;background-color:#af0e0ea9;border:3px solid black;border-radius:6px;transition:all .375s}input[type=radio][_ngcontent-%COMP%]{position:absolute;visibility:hidden;display:none}label[_ngcontent-%COMP%]{text-align:center;font-size:30px;width:135px;color:#5f9ea0;display:inline-block;cursor:pointer;padding:5px}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{animation:1s _ngcontent-%COMP%_slideInFromRight;border-radius:10px;color:bisque;text-shadow:5px 5px 5px black}.radio-group[_ngcontent-%COMP%]{background-color:#af0e0ea9;border:2px solid bisque;display:inline-block;margin:20px;border-radius:10px;position:relative}.surveySaved[_ngcontent-%COMP%]{width:500px;height:250px;background-color:#000;padding:15px;color:bisque;background:#0000009a;border-radius:35px;text-align:center;position:absolute;top:60%;left:18%;transform:scale(.0000000001);transition:transform .4s,top .4s}.open-surveySaved[_ngcontent-%COMP%]{top:30%;transform:scale(1)}']})};export{$ as EncuestaComponent};
